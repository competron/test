configure qos sap-ingress 45101 create
     description "Scheduler policy for link 1 Gbps"
     queue 1 create
          adaptation-rule cir min pir min
          rate max cir 50000
     exit
     queue 2 create
          adaptation-rule cir min pir min
          rate 500 cir 0
     exit
     queue 3 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 4 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 5 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 6 create
          adaptation-rule cir min pir min
          rate max cir 400000
     exit
     queue 7 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 8 create
          adaptation-rule cir min pir min
          rate max cir 50000
     exit


      fc "af" create
          queue 3
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "ef" create
          queue 6
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "h1" create
          queue 7
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "h2" create
          queue 5
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "be" create
          queue 1
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "l2" create
          queue 3			
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "nc" create
          queue 8
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "l1" create
          queue 4
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit

     dot1p 0 fc "be"
     dot1p 1 fc "af"
     dot1p 2 fc "af"
     dot1p 3 fc "l1"
     dot1p 4 fc "h2"
     dot1p 5 fc "ef" 
     dot1p 6 fc "h1" 
     dot1p 7 fc "nc"
exit all


configure qos sap-egress 45101 create
     description "Scheduler policy for link 1 Gbps"
     queue 1 create
          adaptation-rule cir min pir min
          rate max cir 50000
     exit
     queue 2 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 3 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 4 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 5 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 6 create
          adaptation-rule cir min pir min
          rate max cir 400000
     exit
     queue 7 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 8 create
          adaptation-rule cir min pir min
          rate max cir 50000
     exit

     fc af create
          queue 3
          dot1p 2
     exit
     fc nc create
          queue 8
          dot1p 7
     exit
     fc ef create
          queue 6
          dot1p 5
     exit
     fc h1 create
          queue 7
          dot1p 6
     exit
     fc h2 create
          queue 5
          dot1p 4
     exit
     fc be create
          queue 1
          dot1p 0
     exit
     fc l2 create
          queue 2
          dot1p 1
     exit
     fc l1 create
          queue 4
          dot1p 3
     exit
exit
exit all


configure qos sap-ingress 45102 create
     description "Scheduler policy for link 2 Gbps"
     queue 1 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 2 create
          adaptation-rule cir min pir min
          rate 500 cir 0
     exit
     queue 3 create
          adaptation-rule cir min pir min
          rate max cir 400000
     exit
     queue 4 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 5 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 6 create
          adaptation-rule cir min pir min
          rate max cir 800000
     exit
     queue 7 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 8 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit


      fc "af" create
          queue 3
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "ef" create
          queue 6
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "h1" create
          queue 7
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "h2" create
          queue 5
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "be" create
          queue 1
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "l2" create
          queue 3			
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "nc" create
          queue 8
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit
     fc "l1" create
          queue 4
                broadcast-queue 2
                multicast-queue 2
                unknown-queue 2
     exit

     dot1p 0 fc "be"
     dot1p 1 fc "af"
     dot1p 2 fc "af"
     dot1p 3 fc "l1"
     dot1p 4 fc "h2"
     dot1p 5 fc "ef" 
     dot1p 6 fc "h1" 
     dot1p 7 fc "nc"
exit all


configure qos sap-egress 45102 create
     description "Scheduler policy for link 2 Gbps"
     queue 1 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit
     queue 2 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 3 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 4 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 5 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 6 create
          adaptation-rule cir min pir min
          rate max cir 800000
     exit
     queue 7 create
          adaptation-rule cir min pir min
          rate max cir 200000
     exit
     queue 8 create
          adaptation-rule cir min pir min
          rate max cir 100000
     exit

     fc af create
          queue 3
          dot1p 2
     exit
     fc nc create
          queue 8
          dot1p 7
     exit
     fc ef create
          queue 6
          dot1p 5
     exit
     fc h1 create
          queue 7
          dot1p 6
     exit
     fc h2 create
          queue 5
          dot1p 4
     exit
     fc be create
          queue 1
          dot1p 0
     exit
     fc l2 create
          queue 2
          dot1p 1
     exit
     fc l1 create
          queue 4
          dot1p 3
     exit
exit
exit all